# DMA技术的普及

`Direct Memory Access` 简称 `DMA`, 被称为 `直接内存访问技术` ，是计算机内部硬件完成数据读取于写入的一种方式。通过使用 `DMA` 技术，可以允许部分硬件独立于CPU在内存中访问数据。

在`非DMA`工作模式下，对于常规的`I/O`设备，发生一次读写时往往需要CPU从I/O控制器中读取数据，而读取数据的过程中CPU处于完全占用状态，无法执行其他任务。而CPU资源作为计算机中的核心资源，倘若一直开销在读取与写入数据上，势必会对操作系统的性能有严重影响。

为了解决数据传输中过分依赖于CPU中断负载问题，产生了`DMA` 技术。

`DMA` 技术通过在两个硬件设备(存储与存储之间、存储于外设、外设与外设)之间提供高速数据传输，将数据从地址空间A复制到地址空间B，整个过程通过`DMA` 控制器来实现，减少了数据传输中CPU的(中断)参与，释放了CPU的性能。

#### 工作原理

使用`DMA` 传输数据，首先CPU通过设置`DMA` 的控制器对其进行编程，以便`DMA` 控制器可以获得数据传输的目标地址空间。接着，`DMA` 控制器向磁盘控制器发出命令，通知磁盘控制器从磁盘中读取数据并将数据加载到缓冲区中进行计算校验和。

当有效数据位于磁盘控制器的缓冲区中时，`DMA` 控制器开始工作。

`DMA` 控制器通过在总线上发送一个到磁盘控制器的读请求，接着磁盘控制器找到总线上的内存地址

#### 主要特征

* 硬件设备存在 `DMA` 控制器的，则操作系统只能使用`DMA`
* `DMA` 控制器通常会集成到磁盘控制器或其他控制器中，但需要在每个硬件设备上安装一个分离的`DMA` 控制器
* 单个的`DMA` 控制器可以同时在多个通道上对多个设备进行数据的传输
*
